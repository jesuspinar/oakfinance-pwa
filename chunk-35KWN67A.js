import{a as Oe,b as Se,d as Ee}from"./chunk-LIP5W6H7.js";import{a as Ie}from"./chunk-H3YF27BR.js";import{E as z,F as j,G as L,H as W,I as q,J as he,K as Me,L as ve,M as $,N as G,c as ce,d as B,e as pe,f as se,g as de,h as ge,m as N,n as _e,o as ue,p as ye,r as A,s as R,t as fe,u as V,v as xe,w as Ce,x as Pe,y as D,z as be}from"./chunk-7LX46XF4.js";import{$ as _,Aa as ee,Ba as k,D as o,Ea as F,F as h,H as w,M as x,R as p,S as e,T as t,U as s,_ as H,aa as b,ha as U,ja as m,jb as P,ka as g,kb as T,la as I,lb as te,ma as Q,mb as ne,na as X,nb as ie,oa as Y,ob as oe,pa as Z,pb as ae,ra as O,sa as d,sb as re,ta as C,tb as me,ua as S,ub as le,v as M,va as J,w as v}from"./chunk-32E675WK.js";import"./chunk-KZCCWEXU.js";import"./chunk-QUJFQN2Y.js";import"./chunk-GXJYFMN2.js";import"./chunk-HZ2DEZKP.js";import"./chunk-CSZUWXLO.js";import"./chunk-H22OMIEO.js";import"./chunk-HLPRSWDU.js";import"./chunk-7Q5NTPUG.js";import"./chunk-QNCTVU3D.js";import"./chunk-NBZM3IVJ.js";import"./chunk-C6WD3CRC.js";import"./chunk-XUI3MIGA.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-VQRDGILM.js";import"./chunk-CKP3SGE2.js";import"./chunk-56YYX2RA.js";import"./chunk-34LRFQGT.js";import"./chunk-VYBL45FS.js";import"./chunk-D2O4WAW4.js";import"./chunk-N5NF6UWQ.js";import"./chunk-DNTR6X5U.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{h as f}from"./chunk-B7O3QC5Z.js";function Ae(n,l){n&1&&(e(0,"ion-text",16)(1,"p",17),m(2,"Name is required"),t()())}function Re(n,l){n&1&&(e(0,"ion-text",16)(1,"p",17),m(2,"Amount must be greater than 0"),t()())}function Ve(n,l){n&1&&(e(0,"ion-text",16)(1,"p",17),m(2,"Day must be between 1 and 31"),t()())}var K=(()=>{let l=class l{constructor(r,a){this.fb=r,this.modalCtrl=a,this.type="expense",this.isEditMode=!1}ngOnInit(){this.isEditMode=!!this.payment,this.paymentForm=this.fb.group({name:[this.payment?.name||"",[P.required,P.minLength(1)]],defaultAmount:[this.payment?.defaultAmount||0,[P.required,P.min(.01)]],dayOfMonth:[this.payment?.dayOfMonth||1,[P.required,P.min(1),P.max(31)]],iconName:[this.payment?.iconName||"cash-outline",P.required],type:[this.payment?.type||this.type,P.required]})}openIconPicker(){return f(this,null,function*(){let r=yield this.modalCtrl.create({component:Oe,componentProps:{selectedIcon:this.paymentForm.value.iconName,type:this.paymentForm.value.type}});yield r.present();let{data:a}=yield r.onWillDismiss();a?.icon&&this.paymentForm.patchValue({iconName:a.icon})})}save(){this.paymentForm.valid&&this.modalCtrl.dismiss({payment:this.paymentForm.value,isEdit:this.isEditMode})}dismiss(){this.modalCtrl.dismiss()}};l.\u0275fac=function(a){return new(a||l)(h(re),h($))},l.\u0275cmp=w({type:l,selectors:[["app-payment-form-modal"]],inputs:{payment:"payment",type:"type"},decls:43,vars:10,consts:[["slot","end"],[3,"click"],["name","close","slot","icon-only"],[1,"ion-padding",3,"formGroup"],["position","stacked"],["formControlName","type"],["value","expense"],["value","income"],["button","",3,"click"],[1,"icon-preview"],["size","large",3,"name","color"],["formControlName","name","placeholder","e.g., Rent, Salary","type","text"],["color","danger",4,"ngIf"],["formControlName","defaultAmount","type","number","placeholder","0.00","step","0.01"],["formControlName","dayOfMonth","type","number","min","1","max","31"],["expand","block",3,"click","disabled"],["color","danger"],[1,"error-text"]],template:function(a,i){if(a&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),m(3),t(),e(4,"ion-buttons",0)(5,"ion-button",1),_("click",function(){return i.dismiss()}),s(6,"ion-icon",2),t()()()(),e(7,"ion-content")(8,"form",3)(9,"ion-item")(10,"ion-label",4),m(11,"Type"),t(),e(12,"ion-segment",5)(13,"ion-segment-button",6)(14,"ion-label"),m(15,"Expense"),t()(),e(16,"ion-segment-button",7)(17,"ion-label"),m(18,"Income"),t()()()(),e(19,"ion-item",8),_("click",function(){return i.openIconPicker()}),e(20,"ion-label",4),m(21,"Icon"),t(),e(22,"div",9),s(23,"ion-icon",10),t()(),e(24,"ion-item")(25,"ion-label",4),m(26,"Name *"),t(),s(27,"ion-input",11),t(),x(28,Ae,3,0,"ion-text",12),e(29,"ion-item")(30,"ion-label",4),m(31,"Default Amount *"),t(),s(32,"ion-input",13),t(),x(33,Re,3,0,"ion-text",12),e(34,"ion-item")(35,"ion-label",4),m(36,"Day of Month (1-31) *"),t(),s(37,"ion-input",14),t(),x(38,Ve,3,0,"ion-text",12),t()(),e(39,"ion-footer")(40,"ion-toolbar")(41,"ion-button",15),_("click",function(){return i.save()}),m(42),t()()()),a&2){let u,y,E;o(3),Q("",i.isEditMode?"Edit":"Add"," ",i.paymentForm.value.type==="income"?"Income":"Expense"),o(5),p("formGroup",i.paymentForm),o(15),p("name",i.paymentForm.value.iconName)("color",i.paymentForm.value.type==="income"?"success":"danger"),o(5),p("ngIf",((u=i.paymentForm.get("name"))==null?null:u.invalid)&&((u=i.paymentForm.get("name"))==null?null:u.touched)),o(5),p("ngIf",((y=i.paymentForm.get("defaultAmount"))==null?null:y.invalid)&&((y=i.paymentForm.get("defaultAmount"))==null?null:y.touched)),o(5),p("ngIf",((E=i.paymentForm.get("dayOfMonth"))==null?null:E.invalid)&&((E=i.paymentForm.get("dayOfMonth"))==null?null:E.touched)),o(3),p("disabled",!i.paymentForm.valid),o(),I(" ",i.isEditMode?"Update":"Add"," Payment ")}},dependencies:[F,k,le,ie,T,te,oe,ae,G,de,ge,N,ye,A,R,fe,V,D,z,j,L,W,q,ce,B,pe,Me,he],styles:["form.ion-padding[_ngcontent-%COMP%]{padding:16px}ion-item[_ngcontent-%COMP%]{--background: #252525;--border-color: transparent;--inner-border-width: 0;--padding-start: 16px;--padding-end: 16px;--min-height: 70px;margin-bottom:16px;border-radius:12px}ion-item[_ngcontent-%COMP%]   ion-label[position=stacked][_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:gray;margin-bottom:8px}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--padding-top: 8px;--padding-bottom: 8px;font-size:1rem;font-weight:500}ion-segment[_ngcontent-%COMP%]{margin-top:8px;--background: #333333;border-radius:12px;padding:4px}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--background: transparent;--background-checked: #5CB299;--color: #B3B3B3;--color-checked: #000000;--indicator-color: transparent;--border-radius: 8px;min-height:40px;font-weight:600;font-size:.875rem;text-transform:none}.icon-preview[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:24px 0}.icon-preview[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:3rem;padding:16px;border-radius:16px}.icon-preview[_ngcontent-%COMP%]   ion-icon[color=success][_ngcontent-%COMP%]{background:#5cb2991f}.icon-preview[_ngcontent-%COMP%]   ion-icon[color=danger][_ngcontent-%COMP%]{background:#e573731f}.error-text[_ngcontent-%COMP%]{font-size:.75rem;padding:4px 16px;margin:-8px 0 8px;color:#e57373}ion-footer[_ngcontent-%COMP%]{background:#1a1a1a;border-top:1px solid rgba(255,255,255,.05)}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--padding-start: 16px;--padding-end: 16px;--padding-top: 8px;--padding-bottom: 8px;padding-bottom:env(safe-area-inset-bottom)}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: #5CB299;--background-activated: #4a9b85;--color: #000000;--border-radius: 12px;font-weight:600;font-size:1rem;height:50px}ion-footer[_ngcontent-%COMP%]   ion-button[disabled][_ngcontent-%COMP%]{--background: #333333;--color: #808080;opacity:.6}"]});let n=l;return n})();var we=n=>({day:n}),ke=n=>({type:n});function De(n,l){if(n&1){let c=H();e(0,"ion-item-sliding")(1,"ion-item"),s(2,"ion-icon",13),e(3,"ion-label")(4,"h2"),m(5),t(),e(6,"p"),m(7),d(8,"translate"),t()(),e(9,"ion-badge",14),m(10),d(11,"appCurrency"),t()(),e(12,"ion-item-options",15)(13,"ion-item-option",16),_("click",function(){let a=M(c).$implicit,i=b(3);return v(i.openEditModal(a))}),s(14,"ion-icon",17),t(),e(15,"ion-item-option",18),_("click",function(){let a=M(c).$implicit,i=b(3);return v(i.confirmDelete(a))}),s(16,"ion-icon",19),t()()()}if(n&2){let c=l.$implicit;o(2),p("name",c.iconName),o(3),g(c.name),o(2),g(S(8,4,"payments.dayOfMonth",O(9,we,c.dayOfMonth))),o(3),I(" ",C(11,7,c.defaultAmount)," ")}}function ze(n,l){if(n&1&&(e(0,"ion-list"),x(1,De,17,11,"ion-item-sliding",12),t()),n&2){let c=b(2);o(),p("ngForOf",c.expensePayments)}}function je(n,l){n&1&&(e(0,"div",20),s(1,"ion-icon",21),e(2,"p"),m(3),d(4,"translate"),t(),e(5,"ion-text",22)(6,"p"),m(7),d(8,"translate"),d(9,"translate"),t()()()),n&2&&(o(3),g(C(4,2,"payments.noExpenses")),o(4),g(S(9,6,"payments.addFirst",O(9,ke,C(8,4,"payments.expenses").toLowerCase()))))}function Le(n,l){if(n&1&&(e(0,"div"),x(1,ze,2,1,"ion-list",11)(2,je,10,11,"ng-template",null,0,J),t()),n&2){let c=U(3),r=b();o(),p("ngIf",r.expensePayments.length>0)("ngIfElse",c)}}function We(n,l){if(n&1){let c=H();e(0,"ion-item-sliding")(1,"ion-item"),s(2,"ion-icon",23),e(3,"ion-label")(4,"h2"),m(5),t(),e(6,"p"),m(7),d(8,"translate"),t()(),e(9,"ion-badge",24),m(10),d(11,"appCurrency"),t()(),e(12,"ion-item-options",15)(13,"ion-item-option",16),_("click",function(){let a=M(c).$implicit,i=b(3);return v(i.openEditModal(a))}),s(14,"ion-icon",17),t(),e(15,"ion-item-option",18),_("click",function(){let a=M(c).$implicit,i=b(3);return v(i.confirmDelete(a))}),s(16,"ion-icon",19),t()()()}if(n&2){let c=l.$implicit;o(2),p("name",c.iconName),o(3),g(c.name),o(2),g(S(8,4,"payments.dayOfMonth",O(9,we,c.dayOfMonth))),o(3),I(" ",C(11,7,c.defaultAmount)," ")}}function qe(n,l){if(n&1&&(e(0,"ion-list"),x(1,We,17,11,"ion-item-sliding",12),t()),n&2){let c=b(2);o(),p("ngForOf",c.incomePayments)}}function $e(n,l){n&1&&(e(0,"div",20),s(1,"ion-icon",25),e(2,"p"),m(3),d(4,"translate"),t(),e(5,"ion-text",22)(6,"p"),m(7),d(8,"translate"),d(9,"translate"),t()()()),n&2&&(o(3),g(C(4,2,"payments.noIncome")),o(4),g(S(9,6,"payments.addFirst",O(9,ke,C(8,4,"payments.income").toLowerCase()))))}function Ge(n,l){if(n&1&&(e(0,"div"),x(1,qe,2,1,"ion-list",11)(2,$e,10,11,"ng-template",null,1,J),t()),n&2){let c=U(3),r=b();o(),p("ngIf",r.incomePayments.length>0)("ngIfElse",c)}}var at=(()=>{let l=class l{constructor(r,a,i){this.paymentService=r,this.modalCtrl=a,this.alertCtrl=i,this.incomePayments=[],this.expensePayments=[],this.selectedSegment="expense"}ngOnInit(){return f(this,null,function*(){yield this.loadPayments()})}ionViewWillEnter(){return f(this,null,function*(){yield this.loadPayments()})}loadPayments(){return f(this,null,function*(){this.incomePayments=yield this.paymentService.getByType("income"),this.expensePayments=yield this.paymentService.getByType("expense")})}openAddModal(){return f(this,null,function*(){let r=yield this.modalCtrl.create({component:K,componentProps:{type:this.selectedSegment}});yield r.present();let{data:a}=yield r.onWillDismiss();a?.payment&&(yield this.paymentService.create(a.payment),yield this.loadPayments())})}openEditModal(r){return f(this,null,function*(){let a=yield this.modalCtrl.create({component:K,componentProps:{payment:r,type:r.type}});yield a.present();let{data:i}=yield a.onWillDismiss();i?.payment&&i?.isEdit&&(yield this.paymentService.update(r.id,i.payment),yield this.loadPayments())})}confirmDelete(r){return f(this,null,function*(){yield(yield this.alertCtrl.create({header:"Delete Payment",message:`Are you sure you want to delete "${r.name}"?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",role:"destructive",handler:()=>f(this,null,function*(){yield this.paymentService.delete(r.id),yield this.loadPayments()})}]})).present()})}segmentChanged(r){this.selectedSegment=r.detail.value}};l.\u0275fac=function(a){return new(a||l)(h(Ee),h($),h(ve))},l.\u0275cmp=w({type:l,selectors:[["app-recurring-payments"]],decls:21,vars:14,consts:[["noExpenses",""],["noIncome",""],[3,"translucent"],[3,"ngModelChange","ionChange","ngModel"],["value","expense"],["value","income"],[3,"fullscreen"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["slot","start","color","danger",3,"name"],["slot","end","color","danger"],["side","end"],["color","primary",3,"click"],["slot","icon-only","name","create-outline"],["color","danger",3,"click"],["slot","icon-only","name","trash-outline"],[1,"empty-state"],["name","wallet-outline","color","medium"],["color","medium"],["slot","start","color","success",3,"name"],["slot","end","color","success"],["name","cash-outline","color","medium"]],template:function(a,i){a&1&&(e(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-title"),m(3),d(4,"translate"),t()(),e(5,"ion-toolbar")(6,"ion-segment",3),Z("ngModelChange",function(y){return Y(i.selectedSegment,y)||(i.selectedSegment=y),y}),_("ionChange",function(y){return i.segmentChanged(y)}),e(7,"ion-segment-button",4)(8,"ion-label"),m(9),d(10,"translate"),t()(),e(11,"ion-segment-button",5)(12,"ion-label"),m(13),d(14,"translate"),t()()()()(),e(15,"ion-content",6),x(16,Le,4,2,"div",7)(17,Ge,4,2,"div",7),e(18,"ion-fab",8)(19,"ion-fab-button",9),_("click",function(){return i.openAddModal()}),s(20,"ion-icon",10),t()()()),a&2&&(p("translucent",!0),o(3),g(C(4,8,"payments.title")),o(3),X("ngModel",i.selectedSegment),o(3),g(C(10,10,"payments.expenses")),o(4),g(C(14,12,"payments.income")),o(2),p("fullscreen",!0),o(),p("ngIf",i.selectedSegment==="expense"),o(),p("ngIf",i.selectedSegment==="income"))},dependencies:[G,se,N,_e,ue,A,R,V,xe,Ce,Pe,D,be,z,j,L,W,q,B,F,ee,k,me,T,ne,Se,Ie],styles:["ion-item[_ngcontent-%COMP%]{--background: #252525;--background-hover: #2D2D2D;--border-radius: 12px;margin-bottom:8px}ion-item[_ngcontent-%COMP%]   ion-icon[slot=start][_ngcontent-%COMP%]{font-size:1.5rem;padding:10px;border-radius:12px;margin-right:16px}ion-item[_ngcontent-%COMP%]   ion-icon[slot=start][color=danger][_ngcontent-%COMP%]{background:#e573731f}ion-item[_ngcontent-%COMP%]   ion-icon[slot=start][color=success][_ngcontent-%COMP%]{background:#5cb2991f}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#fff;margin-bottom:2px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem;color:#b3b3b3}ion-badge[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;padding:8px 16px;border-radius:12px;min-width:70px;text-align:center}ion-badge[color=danger][_ngcontent-%COMP%]{background:#e5737326;color:#e57373}ion-badge[color=success][_ngcontent-%COMP%]{background:#5cb29926;color:#5cb299}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 24px;text-align:center}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:100px;color:gray;margin-bottom:24px;opacity:.4;background:#ffffff08;padding:24px;border-radius:50%}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;color:#fff;margin:8px 0}.empty-state[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#b3b3b3;margin:8px 0 0;max-width:250px;line-height:1.5}ion-list-header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.75px;color:gray}ion-item-sliding[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;margin:0 16px 8px}ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin:0;border-radius:0}ion-item-options[_ngcontent-%COMP%]   ion-item-option[_ngcontent-%COMP%]{min-width:60px}ion-item-options[_ngcontent-%COMP%]   ion-item-option[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.375rem}ion-item-options[_ngcontent-%COMP%]   ion-item-option[color=primary][_ngcontent-%COMP%]{--background: #5CB299;--color: #000000}ion-item-options[_ngcontent-%COMP%]   ion-item-option[color=danger][_ngcontent-%COMP%]{--background: #E57373;--color: #000000}ion-segment[_ngcontent-%COMP%]{margin:8px 16px 16px}"]});let n=l;return n})();export{at as RecurringPaymentsPage};
